{"ast":null,"code":"import _regeneratorRuntime from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/src/components/CrowdFunding/index.js\";\nimport React, { Component } from \"react\";\nimport Select from 'react-select';\nimport Utils from \"../../utils\";\nimport cons from \"../../cons.js\";\n\nvar CrowdFunding = /*#__PURE__*/function (_Component) {\n  _inherits(CrowdFunding, _Component);\n\n  var _super = _createSuper(CrowdFunding);\n\n  function CrowdFunding(props) {\n    var _this;\n\n    _classCallCheck(this, CrowdFunding);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      min: 100,\n      deposito: \"Loading...\",\n      balance: \"Loading...\",\n      accountAddress: \"Loading...\",\n      porcentaje: \"Loading...\",\n      dias: \"Loading...\",\n      partner: \"Loading...\",\n      balanceTRX: \"Loading...\",\n      balanceUSDT: \"Loading...\",\n      precioSITE: 1,\n      valueUSDT: 0,\n      hand: 0\n    };\n    _this.deposit = _this.deposit.bind(_assertThisInitialized(_this));\n    _this.estado = _this.estado.bind(_assertThisInitialized(_this));\n    _this.estado2 = _this.estado2.bind(_assertThisInitialized(_this));\n    _this.rateSITE = _this.rateSITE.bind(_assertThisInitialized(_this));\n    _this.handleChangeUSDT = _this.handleChangeUSDT.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CrowdFunding, [{\n    key: \"handleChangeUSDT\",\n    value: function handleChangeUSDT(event) {\n      //console.log(event)\n      this.setState({\n        valueUSDT: event.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Utils.setContract(window.tronWeb, this.props.contractAddress);\n\n              case 2:\n                this.estado();\n                setInterval(function () {\n                  return _this2.estado();\n                }, 3 * 1000);\n                setInterval(function () {\n                  return _this2.estado2();\n                }, 3 * 1000);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"rateSITE\",\n    value: function () {\n      var _rateSITE = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", 1);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function rateSITE() {\n        return _rateSITE.apply(this, arguments);\n      }\n\n      return rateSITE;\n    }()\n  }, {\n    key: \"estado\",\n    value: function () {\n      var _estado = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var accountAddress, inversors, options, datos, direccioncontract, contractSITE, aprovado, top, index, precio, active;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                accountAddress = window.tronWeb.defaultAddress.base58;\n                _context3.next = 3;\n                return Utils.contract.investors(accountAddress).call();\n\n              case 3:\n                inversors = _context3.sent;\n                options = [];\n                datos = {};\n                inversors.inicio = 1000;\n                _context3.next = 9;\n                return Utils.contract.tokenPricipal().call();\n\n              case 9:\n                direccioncontract = _context3.sent;\n                _context3.next = 12;\n                return window.tronWeb.contract().at(direccioncontract);\n\n              case 12:\n                contractSITE = _context3.sent;\n                _context3.next = 15;\n                return contractSITE.allowance(accountAddress, this.props.contractAddress).call();\n\n              case 15:\n                aprovado = _context3.sent;\n\n                //aprovado = parseInt(aprovado._hex);\n                if (aprovado.remaining) {\n                  aprovado = parseInt(aprovado.remaining._hex);\n                } else {\n                  aprovado = parseInt(aprovado._hex);\n                }\n\n                if (!(aprovado > 0)) {\n                  _context3.next = 34;\n                  break;\n                }\n\n                _context3.next = 20;\n                return Utils.contract.plansLength().call();\n\n              case 20:\n                top = _context3.sent;\n                index = 0;\n\n              case 22:\n                if (!(index < top)) {\n                  _context3.next = 34;\n                  break;\n                }\n\n                _context3.next = 25;\n                return Utils.contract.plans(index).call();\n\n              case 25:\n                precio = _context3.sent;\n                _context3.next = 28;\n                return Utils.contract.active(index).call();\n\n              case 28:\n                active = _context3.sent;\n                precio = parseInt(precio) / Math.pow(10, 6);\n\n                if (precio > 0 && active && inversors.registered) {\n                  datos = {};\n                  datos.value = index;\n                  datos.label = precio + ' USDT';\n                  options[index] = datos;\n                }\n\n              case 31:\n                index++;\n                _context3.next = 22;\n                break;\n\n              case 34:\n                this.setState({\n                  options: options\n                });\n\n              case 35:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function estado() {\n        return _estado.apply(this, arguments);\n      }\n\n      return estado;\n    }()\n  }, {\n    key: \"estado2\",\n    value: function () {\n      var _estado2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var accountAddress, inversors, inicio, fin, texto, direccioncontract, contractSITE, nameToken1, aprovado, tiempo, porcentiempo, decimales, balance, valorPlan, partner, hand, loc, getString, GET, get, i, l, tmp, wallet, dias, porcentaje, balanceTRX, direccioncontract2, contractUSDT, nameToken2, decimals, balanceUSDT;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                accountAddress = window.tronWeb.defaultAddress.base58;\n                _context4.next = 3;\n                return Utils.contract.investors(accountAddress).call();\n\n              case 3:\n                inversors = _context4.sent;\n                inicio = accountAddress.substr(0, 4);\n                fin = accountAddress.substr(-4);\n                texto = inicio + \"...\" + fin;\n                document.getElementById(\"contract\").innerHTML = '<a href=\"https://tronscan.org/#/contract/' + this.props.contractAddress + '/code\">Contract V ' + this.props.version + '</a>';\n                document.getElementById(\"login\").href = \"https://tronscan.io/#/address/\".concat(accountAddress);\n                document.getElementById(\"login-my-wallet\").innerHTML = texto;\n                _context4.next = 12;\n                return Utils.contract.tokenPricipal().call();\n\n              case 12:\n                direccioncontract = _context4.sent;\n                _context4.next = 15;\n                return window.tronWeb.contract().at(direccioncontract);\n\n              case 15:\n                contractSITE = _context4.sent;\n                _context4.next = 18;\n                return contractSITE.symbol().call();\n\n              case 18:\n                nameToken1 = _context4.sent;\n                _context4.next = 21;\n                return contractSITE.allowance(accountAddress, this.props.contractAddress).call();\n\n              case 21:\n                aprovado = _context4.sent;\n\n                //console.log(aprovado);\n                if (aprovado.remaining) {\n                  aprovado = parseInt(aprovado.remaining._hex);\n                } else {\n                  aprovado = parseInt(aprovado._hex);\n                } //console.log(aprovado);\n\n\n                if (aprovado > 0) {\n                  if (!inversors.registered) {\n                    aprovado = \"Register\";\n                  } else {\n                    aprovado = \"Buy Plan\";\n                  }\n                } else {\n                  aprovado = \"Allow wallet\";\n                }\n\n                inversors.inicio = 1000;\n                _context4.next = 27;\n                return Utils.contract.tiempo().call();\n\n              case 27:\n                tiempo = _context4.sent;\n                tiempo = parseInt(tiempo._hex) * 1000;\n                porcentiempo = (Date.now() - inversors.inicio) * 100 / tiempo;\n                _context4.next = 32;\n                return contractSITE.decimals().call();\n\n              case 32:\n                decimales = _context4.sent;\n                _context4.next = 35;\n                return contractSITE.balanceOf(accountAddress).call();\n\n              case 35:\n                balance = _context4.sent;\n                balance = parseInt(balance._hex) / Math.pow(10, decimales);\n                valorPlan = 0;\n\n                if (porcentiempo < 100) {\n                  aprovado = \"Update Plan\";\n                  valorPlan = inversors.plan / Math.pow(10, 8);\n                }\n\n                partner = cons.WS;\n                hand = \"Left \";\n\n                if (!inversors.registered) {\n                  _context4.next = 49;\n                  break;\n                }\n\n                _context4.t0 = window.tronWeb.address;\n                _context4.next = 45;\n                return Utils.contract.padre(accountAddress).call();\n\n              case 45:\n                _context4.t1 = _context4.sent;\n                partner = _context4.t0.fromHex.call(_context4.t0, _context4.t1);\n                _context4.next = 67;\n                break;\n\n              case 49:\n                loc = document.location.href;\n\n                if (!(loc.indexOf('?') > 0)) {\n                  _context4.next = 67;\n                  break;\n                }\n\n                getString = loc.split('?');\n                getString = getString[getString.length - 1]; //console.log(getString);\n\n                GET = getString.split('&');\n                get = {};\n\n                for (i = 0, l = GET.length; i < l; i++) {\n                  tmp = GET[i].split('=');\n                  get[tmp[0]] = unescape(decodeURI(tmp[1]));\n                }\n\n                if (get['hand']) {\n                  tmp = get['hand'].split('#'); //console.log(tmp);\n\n                  if (tmp[0] === \"right\") {\n                    hand = \"Rigth \";\n                  }\n                }\n\n                if (!get['ref']) {\n                  _context4.next = 67;\n                  break;\n                }\n\n                tmp = get['ref'].split('#'); //console.log(tmp[0]);\n\n                _context4.next = 61;\n                return Utils.contract.idToAddress(tmp[0]).call();\n\n              case 61:\n                wallet = _context4.sent;\n                wallet = window.tronWeb.address.fromHex(wallet);\n                _context4.next = 65;\n                return Utils.contract.investors(wallet).call();\n\n              case 65:\n                inversors = _context4.sent;\n\n                if (inversors.registered) {\n                  partner = \"team \" + hand + \" of \" + wallet;\n                }\n\n              case 67:\n                if (partner === \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\") {\n                  partner = \"---------------------------------\";\n                }\n\n                dias = 365; //await Utils.contract.tiempo().call();\n                //var velocidad = await Utils.contract.velocidad().call();\n                //dias = (parseInt(dias)/86400)*velocidad;\n\n                _context4.next = 71;\n                return Utils.contract.porcent().call();\n\n              case 71:\n                porcentaje = _context4.sent;\n                porcentaje = parseInt(porcentaje);\n                _context4.next = 75;\n                return window.tronWeb.trx.getBalance();\n\n              case 75:\n                balanceTRX = _context4.sent;\n                balanceTRX = balanceTRX / Math.pow(10, 6);\n                _context4.next = 79;\n                return Utils.contract.tokenPago().call();\n\n              case 79:\n                direccioncontract2 = _context4.sent;\n                _context4.next = 82;\n                return window.tronWeb.contract().at(direccioncontract2);\n\n              case 82:\n                contractUSDT = _context4.sent;\n                _context4.next = 85;\n                return contractUSDT.symbol().call();\n\n              case 85:\n                nameToken2 = _context4.sent;\n                _context4.next = 88;\n                return contractUSDT.decimals().call();\n\n              case 88:\n                decimals = _context4.sent;\n                _context4.next = 91;\n                return contractUSDT.balanceOf(accountAddress).call();\n\n              case 91:\n                balanceUSDT = _context4.sent;\n                balanceUSDT = parseInt(balanceUSDT) / Math.pow(10, decimals);\n                this.setState({\n                  deposito: aprovado,\n                  balance: valorPlan,\n                  decimales: decimales,\n                  accountAddress: accountAddress,\n                  porcentaje: porcentaje,\n                  dias: dias,\n                  partner: partner,\n                  balanceSite: balance,\n                  balanceTRX: balanceTRX,\n                  balanceUSDT: balanceUSDT,\n                  nameToken1: nameToken1,\n                  nameToken2: nameToken2\n                });\n\n              case 94:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function estado2() {\n        return _estado2.apply(this, arguments);\n      }\n\n      return estado2;\n    }()\n  }, {\n    key: \"deposit\",\n    value: function () {\n      var _deposit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this$state, balanceSite, balanceTRX, valueUSDT, balance, accountAddress, tronUSDT, direccioncontract, contractUSDT, aprovado, amount, loc, sponsor, hand, investors, getString, GET, get, i, l, tmp, wallet, padre, reg, userWithdrable, MIN_RETIRO, despositos, buy;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$state = this.state, balanceSite = _this$state.balanceSite, balanceTRX = _this$state.balanceTRX, valueUSDT = _this$state.valueUSDT, balance = _this$state.balance;\n                accountAddress = window.tronWeb.defaultAddress.base58;\n                _context5.next = 4;\n                return window.tronWeb;\n\n              case 4:\n                tronUSDT = _context5.sent;\n                _context5.next = 7;\n                return Utils.contract.tokenPricipal().call();\n\n              case 7:\n                direccioncontract = _context5.sent;\n                _context5.next = 10;\n                return tronUSDT.contract().at(direccioncontract);\n\n              case 10:\n                contractUSDT = _context5.sent;\n                _context5.next = 13;\n                return contractUSDT.allowance(accountAddress, this.props.contractAddress).call();\n\n              case 13:\n                aprovado = _context5.sent;\n                aprovado = parseInt(aprovado.remaining._hex); //aprovado = parseInt(aprovado._hex);\n\n                if (!(aprovado <= 0 && balanceTRX >= 50)) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                _context5.next = 18;\n                return contractUSDT.approve(this.props.contractAddress, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send();\n\n              case 18:\n                window.alert(\"Balance approval for exchange: successful\");\n                return _context5.abrupt(\"return\");\n\n              case 20:\n                _context5.next = 22;\n                return Utils.contract.plans(valueUSDT).call();\n\n              case 22:\n                amount = _context5.sent;\n                amount = parseInt(amount._hex) / Math.pow(10, 8);\n                amount = amount - balance;\n                amount = amount / this.state.precioSITE;\n\n                if (!(aprovado > 0 && balanceSite >= amount && balanceTRX >= 50)) {\n                  _context5.next = 106;\n                  break;\n                }\n\n                loc = document.location.href;\n                sponsor = cons.WS;\n                hand = 0;\n                _context5.next = 32;\n                return Utils.contract.investors(accountAddress).call();\n\n              case 32:\n                investors = _context5.sent;\n\n                if (!investors.registered) {\n                  _context5.next = 39;\n                  break;\n                }\n\n                _context5.next = 36;\n                return Utils.contract.padre(accountAddress).call();\n\n              case 36:\n                sponsor = _context5.sent;\n                _context5.next = 56;\n                break;\n\n              case 39:\n                if (!(loc.indexOf('?') > 0)) {\n                  _context5.next = 56;\n                  break;\n                }\n\n                getString = loc.split('?');\n                getString = getString[getString.length - 1]; //console.log(getString);\n\n                GET = getString.split('&');\n                get = {};\n\n                for (i = 0, l = GET.length; i < l; i++) {\n                  tmp = GET[i].split('=');\n                  get[tmp[0]] = unescape(decodeURI(tmp[1]));\n                }\n\n                if (get['hand']) {\n                  tmp = get['hand'].split('#');\n\n                  if (tmp[0] === \"right\") {\n                    hand = 1;\n                  }\n                }\n\n                if (!get['ref']) {\n                  _context5.next = 56;\n                  break;\n                }\n\n                tmp = get['ref'].split('#');\n                _context5.next = 50;\n                return Utils.contract.idToAddress(tmp[0]).call();\n\n              case 50:\n                wallet = _context5.sent;\n                wallet = window.tronWeb.address.fromHex(wallet);\n                _context5.next = 54;\n                return Utils.contract.investors(wallet).call();\n\n              case 54:\n                padre = _context5.sent;\n\n                if (padre.registered) {\n                  sponsor = wallet;\n                }\n\n              case 56:\n                if (investors.registered) {\n                  _context5.next = 60;\n                  break;\n                }\n\n                reg = Utils.contract.registro(sponsor, hand).send();\n                reg.then(function () {\n                  return window.alert(\"congratulation registration: successful\");\n                });\n                return _context5.abrupt(\"return\");\n\n              case 60:\n                _context5.t0 = sponsor !== \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\" && investors.registered;\n\n                if (!_context5.t0) {\n                  _context5.next = 65;\n                  break;\n                }\n\n                _context5.next = 64;\n                return Utils.contract.active(valueUSDT).call();\n\n              case 64:\n                _context5.t0 = _context5.sent;\n\n              case 65:\n                if (!_context5.t0) {\n                  _context5.next = 96;\n                  break;\n                }\n\n                _context5.next = 68;\n                return Utils.contract.withdrawable(accountAddress).call();\n\n              case 68:\n                userWithdrable = _context5.sent;\n                userWithdrable = parseInt(userWithdrable._hex);\n                _context5.next = 72;\n                return Utils.contract.MIN_RETIRO().call();\n\n              case 72:\n                MIN_RETIRO = _context5.sent;\n                MIN_RETIRO = parseInt(MIN_RETIRO._hex);\n                _context5.next = 76;\n                return Utils.contract.depositos(accountAddress).call();\n\n              case 76:\n                despositos = _context5.sent;\n                console.log(despositos[0].length);\n\n                if (!(userWithdrable > MIN_RETIRO)) {\n                  _context5.next = 93;\n                  break;\n                }\n\n                window.alert(\"Va comprar plan de menor o igual valor debe retirar lo disponible para continuar.\");\n\n                if (!window.confirm(\"¿Desea realizar el retiro de su disponible?.\")) {\n                  _context5.next = 87;\n                  break;\n                }\n\n                _context5.next = 83;\n                return Utils.contract.withdraw().send();\n\n              case 83:\n                buy = Utils.contract.buyPlan(valueUSDT).send();\n                buy.then(function () {\n                  return window.alert(\"Felicidades inversión exitosa\");\n                }).then(function () {\n                  return document.getElementById(\"services\").scrollIntoView({\n                    block: \"start\",\n                    behavior: \"smooth\"\n                  });\n                });\n                _context5.next = 93;\n                break;\n\n              case 87:\n                if (!window.confirm(\"¿Desea ccontinuar sin hacer un retiro?, si lo hace se reinvertira el disponible en el sistema de forma automatica.\")) {\n                  _context5.next = 92;\n                  break;\n                }\n\n                buy = Utils.contract.buyPlan(valueUSDT).send();\n                buy.then(function () {\n                  return window.alert(\"Felicidades inversión exitosa\");\n                }).then(function () {\n                  return document.getElementById(\"services\").scrollIntoView({\n                    block: \"start\",\n                    behavior: \"smooth\"\n                  });\n                });\n                _context5.next = 93;\n                break;\n\n              case 92:\n                return _context5.abrupt(\"return\");\n\n              case 93:\n                if (despositos[0].length === 0) {\n                  buy = Utils.contract.buyPlan(valueUSDT).send();\n                  buy.then(function () {\n                    return window.alert(\"Felicidades inversión exitosa\");\n                  }).then(function () {\n                    return document.getElementById(\"services\").scrollIntoView({\n                      block: \"start\",\n                      behavior: \"smooth\"\n                    });\n                  });\n                }\n\n                _context5.next = 104;\n                break;\n\n              case 96:\n                _context5.next = 98;\n                return Utils.contract.active(valueUSDT).call();\n\n              case 98:\n                _context5.t1 = _context5.sent;\n\n                if (!(_context5.t1 === false)) {\n                  _context5.next = 103;\n                  break;\n                }\n\n                window.alert(\"Please select an active plan\");\n                _context5.next = 104;\n                break;\n\n              case 103:\n                window.alert(\"Please use referral link to buy a plan\");\n\n              case 104:\n                _context5.next = 108;\n                break;\n\n              case 106:\n                if (balanceSite < amount) {\n                  window.alert(\"You do not have enough balance, you need: \" + amount + \" USDT and in your wallet you have: \" + balanceSite);\n                }\n\n                if (balanceTRX < 50) {\n                  window.alert(\"Your account must have at least 150 TRX to execute the transactions correctly\");\n                }\n\n              case 108:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function deposit() {\n        return _deposit.apply(this, arguments);\n      }\n\n      return deposit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var options = this.state.options;\n      var segundoToken = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n      if (this.state.nameToken1 !== this.state.nameToken2) {\n        segundoToken = /*#__PURE__*/React.createElement(React.Fragment, null, this.state.nameToken2, \": \", /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 49\n          }\n        }, (this.state.balanceUSDT * 1).toFixed(6)), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 105\n          }\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card wow bounceInUp text-center col-md-7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title\",\n        id: \"contract\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }\n      }, \"Contract V \", this.props.version), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table borderless\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-check-circle-o text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 19\n        }\n      }), \"ROI \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 81\n        }\n      }, this.state.porcentaje, \"%\")), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-check-circle-o text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 19\n        }\n      }), \"Earn\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 81\n        }\n      }, this.state.porcentaje - 100, \"%\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }\n      }, \"Wallet\", /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }\n      }, this.state.accountAddress), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 57\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }\n      }, this.state.nameToken1, \": \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 38\n        }\n      }, this.state.balanceSite), \" ($\", (this.state.balanceSite * this.state.precioSITE).toFixed(2), \")\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 142\n        }\n      }), \"TRX: \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 18\n        }\n      }, (this.state.balanceTRX * 1).toFixed(6)), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 73\n        }\n      }), segundoToken), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }\n      }, \"Plan Staking\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group sm-3 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        options: options,\n        onChange: this.handleChangeUSDT,\n        className: \"form-control mb-20 h-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 13\n        }\n      }, \"At least 150 TRX to make any transactions\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }\n      }, \"Partner:\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }\n      }, this.state.partner)), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-lg btn-success\",\n        onClick: function onClick() {\n          return _this3.deposit();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }\n      }, this.state.deposito))));\n    }\n  }]);\n\n  return CrowdFunding;\n}(Component);\n\nexport { CrowdFunding as default };","map":{"version":3,"sources":["/Users/miguelmerchan/Documents/GitHub/5-generausdt/src/components/CrowdFunding/index.js"],"names":["React","Component","Select","Utils","cons","CrowdFunding","props","state","min","deposito","balance","accountAddress","porcentaje","dias","partner","balanceTRX","balanceUSDT","precioSITE","valueUSDT","hand","deposit","bind","estado","estado2","rateSITE","handleChangeUSDT","event","setState","value","setContract","window","tronWeb","contractAddress","setInterval","defaultAddress","base58","contract","investors","call","inversors","options","datos","inicio","tokenPricipal","direccioncontract","at","contractSITE","allowance","aprovado","remaining","parseInt","_hex","plansLength","top","index","plans","precio","active","registered","label","substr","fin","texto","document","getElementById","innerHTML","version","href","symbol","nameToken1","tiempo","porcentiempo","Date","now","decimals","decimales","balanceOf","valorPlan","plan","WS","address","padre","fromHex","loc","location","indexOf","getString","split","length","GET","get","i","l","tmp","unescape","decodeURI","idToAddress","wallet","porcent","trx","getBalance","tokenPago","direccioncontract2","contractUSDT","nameToken2","balanceSite","tronUSDT","approve","send","alert","amount","sponsor","reg","registro","then","withdrawable","userWithdrable","MIN_RETIRO","depositos","despositos","console","log","confirm","withdraw","buy","buyPlan","scrollIntoView","block","behavior","segundoToken","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Select from 'react-select'\nimport Utils from \"../../utils\";\n\nimport cons from \"../../cons.js\";\n\nexport default class CrowdFunding extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      min: 100,\n      deposito: \"Loading...\",\n      balance: \"Loading...\",\n      accountAddress: \"Loading...\",\n      porcentaje: \"Loading...\",\n      dias: \"Loading...\",\n      partner: \"Loading...\",\n      balanceTRX: \"Loading...\",\n      balanceUSDT: \"Loading...\",\n      precioSITE: 1,\n      valueUSDT: 0,\n      hand: 0\n\n    };\n\n    this.deposit = this.deposit.bind(this);\n    this.estado = this.estado.bind(this);\n    this.estado2 = this.estado2.bind(this);\n\n    this.rateSITE = this.rateSITE.bind(this);\n    this.handleChangeUSDT = this.handleChangeUSDT.bind(this);\n  }\n\n  handleChangeUSDT(event) {\n    //console.log(event)\n    this.setState({valueUSDT: event.value});\n  }\n\n  async componentDidMount() {\n    await Utils.setContract(window.tronWeb, this.props.contractAddress);\n    this.estado();\n    setInterval(() => this.estado(),3*1000);\n    setInterval(() => this.estado2(),3*1000);\n  };\n\n  async rateSITE(){\n    /*\n    var proxyUrl = cons.proxy;\n    var apiUrl = cons.PRE;\n    var response;\n\n    try {\n      response = await fetch(proxyUrl+apiUrl);\n    } catch (err) {\n      console.log(err);\n      return this.state.precioSITE;\n    }\n\n    var json = await response.json();\n\n    this.setState({\n      precioSITE: json.Data.precio\n    });\n\n    return json.Data.precio;*/\n\n    return 1;\n\n  };\n\n  async estado(){\n    var accountAddress =  window.tronWeb.defaultAddress.base58;\n    var inversors = await Utils.contract.investors(accountAddress).call();\n\n    var options = [];\n\n    var datos = {};\n\n    inversors.inicio = 1000;\n\n    var direccioncontract = await Utils.contract.tokenPricipal().call();\n\n    var contractSITE = await window.tronWeb.contract().at(direccioncontract);\n    var aprovado = await contractSITE.allowance(accountAddress,this.props.contractAddress).call();\n    \n    //aprovado = parseInt(aprovado._hex);\n    if(aprovado.remaining){\n      aprovado = parseInt(aprovado.remaining._hex);\n    }else{\n      aprovado = parseInt(aprovado._hex);\n    }\n    \n\n    if (aprovado > 0) {\n\n      var top = await Utils.contract.plansLength().call();\n\n      for (let index = 0; index < top; index++) {\n        var precio = await Utils.contract.plans(index).call();\n        var active = await Utils.contract.active(index).call();\n        precio = parseInt(precio)/10**6;\n        if( precio > 0 && active && inversors.registered){\n          datos = {};\n          datos.value = index;\n          datos.label = precio+' USDT';\n          options[index] = datos;\n\n        }\n        \n        \n      }\n    }\n\n    this.setState({\n      options: options\n    });\n\n  }\n\n  async estado2(){\n\n    var accountAddress =  window.tronWeb.defaultAddress.base58;\n    var inversors = await Utils.contract.investors(accountAddress).call();\n\n    var inicio = accountAddress.substr(0,4);\n    var fin = accountAddress.substr(-4);\n\n    var texto = inicio+\"...\"+fin;\n\n    document.getElementById(\"contract\").innerHTML = '<a href=\"https://tronscan.org/#/contract/'+this.props.contractAddress+'/code\">Contract V '+this.props.version+'</a>';\n    document.getElementById(\"login\").href = `https://tronscan.io/#/address/${accountAddress}`;\n    document.getElementById(\"login-my-wallet\").innerHTML = texto;\n\n    var direccioncontract = await Utils.contract.tokenPricipal().call();\n    \n    var contractSITE = await window.tronWeb.contract().at(direccioncontract);\n\n    var nameToken1 = await contractSITE.symbol().call();\n\n    //console.log(nameToken1);\n\n    var aprovado = await contractSITE.allowance(accountAddress,this.props.contractAddress).call();\n    //console.log(aprovado);\n\n    if(aprovado.remaining){\n      aprovado = parseInt(aprovado.remaining._hex);\n    }else{\n      aprovado = parseInt(aprovado._hex);\n    }\n\n    //console.log(aprovado);\n\n    if (aprovado > 0) {\n      if(!inversors.registered){\n        aprovado = \"Register\";\n      }else{\n        aprovado = \"Buy Plan\";\n      }\n      \n    }else{\n      aprovado = \"Allow wallet\";\n    }\n\n    inversors.inicio = 1000;\n    \n    var tiempo = await Utils.contract.tiempo().call();\n    tiempo = parseInt(tiempo._hex)*1000;\n\n    var porcentiempo = ((Date.now()-inversors.inicio)*100)/tiempo;\n\n    var decimales = await contractSITE.decimals().call();\n\n    var balance = await contractSITE.balanceOf(accountAddress).call();\n    balance = parseInt(balance._hex)/10**decimales;\n\n    var valorPlan = 0;\n\n    if( porcentiempo < 100 ){\n      aprovado = \"Update Plan\";\n\n      valorPlan = inversors.plan/10**8;\n      \n    }\n\n    var partner = cons.WS;\n\n    var hand = \"Left \";\n\n    if ( inversors.registered ) {\n      partner = window.tronWeb.address.fromHex(await Utils.contract.padre(accountAddress).call());\n    }else{\n\n      var loc = document.location.href;\n      if(loc.indexOf('?')>0){\n          var getString = loc.split('?');\n          getString = getString[getString.length-1];\n          //console.log(getString);\n          var GET = getString.split('&');\n          var get = {};\n          for(var i = 0, l = GET.length; i < l; i++){\n              var tmp = GET[i].split('=');\n              get[tmp[0]] = unescape(decodeURI(tmp[1]));\n          }\n\n          if (get['hand']){\n            tmp = get['hand'].split('#');\n\n            //console.log(tmp);\n\n            if (tmp[0] === \"right\") {\n              hand = \"Rigth \";\n            }\n          }\n\n          if (get['ref']) {\n            tmp = get['ref'].split('#');\n\n            //console.log(tmp[0]);\n\n            var wallet = await Utils.contract.idToAddress(tmp[0]).call();\n            wallet = window.tronWeb.address.fromHex(wallet);\n\n            inversors = await Utils.contract.investors(wallet).call();\n\n            if ( inversors.registered ) {\n              partner = \"team \"+hand+\" of \"+wallet;\n            }\n          }\n\n          \n      }\n\n    }\n\n    if(partner === \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\"){\n      partner = \"---------------------------------\";\n    }\n    \n\n    var dias = 365;//await Utils.contract.tiempo().call();\n\n    //var velocidad = await Utils.contract.velocidad().call();\n\n    //dias = (parseInt(dias)/86400)*velocidad;\n\n    var porcentaje = await Utils.contract.porcent().call();\n\n    porcentaje = parseInt(porcentaje);\n\n    var balanceTRX = await window.tronWeb.trx.getBalance();\n    balanceTRX = balanceTRX/10**6;\n\n    var direccioncontract2 = await Utils.contract.tokenPago().call();  \n    //var direccioncontract2 = \"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t\";// USDT contrato o secundario\n\n    var contractUSDT = await window.tronWeb.contract().at(direccioncontract2);\n    var nameToken2 = await contractUSDT.symbol().call();\n    var decimals = await contractUSDT.decimals().call();\n\n    var balanceUSDT = await contractUSDT.balanceOf(accountAddress).call();\n\n    balanceUSDT = parseInt(balanceUSDT)/10**decimals;\n\n    this.setState({\n      deposito: aprovado,\n      balance: valorPlan,\n      decimales: decimales,\n      accountAddress: accountAddress,\n      porcentaje: porcentaje,\n      dias: dias,\n      partner: partner,\n      balanceSite: balance,\n      balanceTRX: balanceTRX,\n      balanceUSDT: balanceUSDT,\n      nameToken1: nameToken1,\n      nameToken2: nameToken2\n    });\n  }\n\n\n  async deposit() {\n\n    var { balanceSite, balanceTRX, valueUSDT , balance} = this.state;\n\n    var accountAddress =  window.tronWeb.defaultAddress.base58;\n\n    var tronUSDT = await window.tronWeb;\n    var direccioncontract = await Utils.contract.tokenPricipal().call();\n    var contractUSDT = await tronUSDT.contract().at(direccioncontract);\n    var aprovado = await contractUSDT.allowance(accountAddress,this.props.contractAddress).call();\n\n    aprovado = parseInt(aprovado.remaining._hex);\n    //aprovado = parseInt(aprovado._hex);\n\n    if (aprovado <= 0 && balanceTRX >= 50){\n      await contractUSDT.approve(this.props.contractAddress, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send();\n      window.alert(\"Balance approval for exchange: successful\");\n      return;\n    }\n\n    var amount = await Utils.contract.plans(valueUSDT).call();\n    amount = parseInt(amount._hex)/10**8;\n    amount = amount-balance;\n    amount = amount/this.state.precioSITE;\n\n    if ( aprovado > 0 && \n      balanceSite >= amount && \n      balanceTRX >= 50 \n      ){\n\n        var loc = document.location.href;\n        var sponsor = cons.WS;\n        var hand = 0;\n        var investors = await Utils.contract.investors(accountAddress).call();\n\n        if (investors.registered) {\n\n          sponsor = await Utils.contract.padre(accountAddress).call();\n\n        }else{\n\n          if(loc.indexOf('?')>0){\n            var getString = loc.split('?');\n            getString = getString[getString.length-1];\n            //console.log(getString);\n            var GET = getString.split('&');\n            var get = {};\n            for(var i = 0, l = GET.length; i < l; i++){\n                var tmp = GET[i].split('=');\n                get[tmp[0]] = unescape(decodeURI(tmp[1]));\n            }\n\n            if (get['hand']){\n              \n              tmp = get['hand'].split('#');\n  \n              if (tmp[0] === \"right\") {\n                hand = 1;\n              }\n            }\n\n            if (get['ref']) {\n              tmp = get['ref'].split('#');\n\n              var wallet = await Utils.contract.idToAddress(tmp[0]).call();\n              wallet = window.tronWeb.address.fromHex(wallet);\n\n              var padre = await Utils.contract.investors(wallet).call();\n\n              if ( padre.registered ) {\n                sponsor = wallet;\n              }\n            }\n\n          }\n          \n        }\n\n        if(!investors.registered){\n          var reg = Utils.contract.registro(sponsor, hand).send()\n          reg.then(() => window.alert(\"congratulation registration: successful\"));\n          return;\n        }\n\n        if(sponsor !== \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\" && investors.registered && await Utils.contract.active(valueUSDT).call()){\n        \n          var userWithdrable = await Utils.contract.withdrawable(accountAddress).call();\n          userWithdrable = parseInt(userWithdrable._hex);\n          var MIN_RETIRO = await Utils.contract.MIN_RETIRO().call();\n          MIN_RETIRO = parseInt(MIN_RETIRO._hex);\n\n          var despositos = await Utils.contract.depositos(accountAddress).call();\n\n          console.log(despositos[0].length);\n\n          if (userWithdrable > MIN_RETIRO ){\n            window.alert(\"Va comprar plan de menor o igual valor debe retirar lo disponible para continuar.\");\n            if(window.confirm(\"¿Desea realizar el retiro de su disponible?.\")){\n              await Utils.contract.withdraw().send();\n              var buy = Utils.contract.buyPlan(valueUSDT).send()\n              buy.then(() => window.alert(\"Felicidades inversión exitosa\"))\n              .then(() => document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"}));\n            }else{\n              if(window.confirm(\"¿Desea ccontinuar sin hacer un retiro?, si lo hace se reinvertira el disponible en el sistema de forma automatica.\")){\n                buy = Utils.contract.buyPlan(valueUSDT).send();\n                buy.then(() => window.alert(\"Felicidades inversión exitosa\"))\n              .then(() => document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"}));\n\n              }else{\n                return;\n              }\n            }\n          \n          }if (despositos[0].length === 0){\n            buy = Utils.contract.buyPlan(valueUSDT).send();\n            buy.then(() => window.alert(\"Felicidades inversión exitosa\"))\n            .then(() => document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"}));\n\n          }\n          \n        }else{\n          if (await Utils.contract.active(valueUSDT).call() === false) {\n            window.alert(\"Please select an active plan\");\n          } else {\n            window.alert(\"Please use referral link to buy a plan\");\n          }\n\n          \n        }\n          \n    }else{\n\n\n      if ( balanceSite < amount ) {\n\n        window.alert(\"You do not have enough balance, you need: \"+amount+\" USDT and in your wallet you have: \"+balanceSite);\n      }\n\n      if (balanceTRX < 50) {\n        window.alert(\"Your account must have at least 150 TRX to execute the transactions correctly\");\n  \n      }\n\n      \n    }\n\n\n  };\n\n  render() {\n\n    var {options} = this.state;\n\n    var segundoToken = <></>;\n\n    if (this.state.nameToken1 !== this.state.nameToken2) {\n      segundoToken = <>{this.state.nameToken2}: <strong>{(this.state.balanceUSDT*1).toFixed(6)}</strong><br /></> ;\n    }\n    \n    return (\n      <div className=\"card wow bounceInUp text-center col-md-7\" >\n        <div className=\"card-body\">\n          <h5 className=\"card-title\" id=\"contract\" >Contract V {this.props.version}</h5>\n\n          <table className=\"table borderless\">\n            <tbody>\n            <tr>\n              <td><i className=\"fa fa-check-circle-o text-success\"></i>ROI </td><td>{this.state.porcentaje}%</td>\n            </tr>\n            <tr>\n              <td><i className=\"fa fa-check-circle-o text-success\"></i>Earn</td><td>{(this.state.porcentaje)-100}%</td>\n            </tr>\n            </tbody>\n          </table>\n\n          <div className=\"form-group\">Wallet\n          <p className=\"card-text\">\n            <strong>{this.state.accountAddress}</strong><br />\n          </p>\n          <p className=\"card-text \">\n        \n            {this.state.nameToken1}: <strong>{this.state.balanceSite}</strong> (${(this.state.balanceSite*this.state.precioSITE).toFixed(2)})<br />\n            TRX: <strong>{(this.state.balanceTRX*1).toFixed(6)}</strong><br />\n            {segundoToken}\n          </p>\n\n          <h4>Plan Staking</h4>\n          <div className=\"input-group sm-3 text-center\">\n            <Select options={options}  onChange={this.handleChangeUSDT} className=\"form-control mb-20 h-auto\" />\n          </div>\n\n            <p className=\"card-text\">At least 150 TRX to make any transactions</p>\n            <p className=\"card-text\">Partner:<br />\n            <strong>{this.state.partner}</strong></p>\n\n            <button className=\"btn btn-lg btn-success\" onClick={() => this.deposit()}>{this.state.deposito}</button>\n\n          </div>\n\n        </div>\n      </div>\n\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}