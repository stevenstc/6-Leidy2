{"ast":null,"code":"import _regeneratorRuntime from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/miguelmerchan/Documents/GitHub/5-generausdt/src/components/Datos/index.js\";\nimport React, { Component } from \"react\";\nimport Utils from \"../../utils\";\n\nvar Datos = /*#__PURE__*/function (_Component) {\n  _inherits(Datos, _Component);\n\n  var _super = _createSuper(Datos);\n\n  function Datos(props) {\n    var _this;\n\n    _classCallCheck(this, Datos);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      totalInvestors: 0,\n      totalInvested: 0,\n      totalRefRewards: 0,\n      precioSITE: 1,\n      wallet: \"\",\n      plan: 0,\n      cantidad: 0,\n      hand: 0\n    };\n    _this.totalInvestors = _this.totalInvestors.bind(_assertThisInitialized(_this));\n    _this.rateSITE = _this.rateSITE.bind(_assertThisInitialized(_this));\n    _this.handleChangeWALLET = _this.handleChangeWALLET.bind(_assertThisInitialized(_this));\n    _this.handleChangePLAN = _this.handleChangePLAN.bind(_assertThisInitialized(_this));\n    _this.handleChangeHAND = _this.handleChangeHAND.bind(_assertThisInitialized(_this));\n    _this.handleChangeCANTIDAD = _this.handleChangeCANTIDAD.bind(_assertThisInitialized(_this));\n    _this.asignarPlan = _this.asignarPlan.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Datos, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Utils.setContract(window.tronWeb, this.props.contractAddress);\n\n              case 2:\n                setInterval(function () {\n                  return _this2.totalInvestors();\n                }, 3 * 1000);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"handleChangeWALLET\",\n    value: function handleChangeWALLET(event) {\n      console.log(event);\n      this.setState({\n        wallet: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangePLAN\",\n    value: function handleChangePLAN(event) {\n      this.setState({\n        plan: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeHAND\",\n    value: function handleChangeHAND(event) {\n      this.setState({\n        plan: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeCANTIDAD\",\n    value: function handleChangeCANTIDAD(event) {\n      this.setState({\n        cantidad: event.target.value\n      });\n    }\n  }, {\n    key: \"rateSITE\",\n    value: function () {\n      var _rateSITE = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", 1);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function rateSITE() {\n        return _rateSITE.apply(this, arguments);\n      }\n\n      return rateSITE;\n    }()\n  }, {\n    key: \"totalInvestors\",\n    value: function () {\n      var _totalInvestors = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var esto, direccioncontract, contractUSDT, decimales;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return Utils.contract.setstate().call();\n\n              case 2:\n                esto = _context3.sent;\n                _context3.next = 5;\n                return Utils.contract.tokenPago().call();\n\n              case 5:\n                direccioncontract = _context3.sent;\n                _context3.next = 8;\n                return window.tronWeb.contract().at(direccioncontract);\n\n              case 8:\n                contractUSDT = _context3.sent;\n                _context3.next = 11;\n                return contractUSDT.decimals().call();\n\n              case 11:\n                decimales = _context3.sent;\n                //console.log(esto);\n                this.setState({\n                  totalInvestors: parseInt(esto.Investors._hex),\n                  totalInvested: parseInt(esto.Invested._hex) / Math.pow(10, decimales),\n                  totalRefRewards: parseInt(esto.RefRewards._hex) / Math.pow(10, decimales)\n                });\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function totalInvestors() {\n        return _totalInvestors.apply(this, arguments);\n      }\n\n      return totalInvestors;\n    }()\n  }, {\n    key: \"asignarPlan\",\n    value: function () {\n      var _asignarPlan = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var transaccion;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.props.version <= 1)) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 3;\n                return Utils.contract.asignarPlan(this.state.wallet, this.state.plan, window.tronWeb.defaultAddress.base58, this.state.hand).send();\n\n              case 3:\n                transaccion = _context4.sent;\n                _context4.next = 9;\n                break;\n\n              case 6:\n                _context4.next = 8;\n                return Utils.contract.asignarPlan(this.state.wallet, this.state.plan).send();\n\n              case 8:\n                transaccion = _context4.sent;\n\n              case 9:\n                alert(\"verifica la transaccion \" + transaccion);\n                setTimeout(window.open(\"https://tronscan.io/#/transaction/\" + transaccion, \"_blank\"), 3000);\n                this.setState({\n                  plan: 0\n                });\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function asignarPlan() {\n        return _asignarPlan.apply(this, arguments);\n      }\n\n      return asignarPlan;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.props.admin === true) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row counters\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4 col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"data-toggle\": \"counter-up\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }\n        }, this.state.totalInvestors), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }\n        }, \"Inversores Globales\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4 col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"data-toggle\": \"counter-up\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }\n        }, (this.state.totalInvested / this.state.precioSITE).toFixed(2), \" USDT\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }\n        }, \"Invertido en Plataforma\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4 col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"data-toggle\": \"counter-up\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }\n        }, (this.state.totalRefRewards / this.state.precioSITE).toFixed(2), \" USDT\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }\n        }, \"Total Recompensas por Referidos\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4 col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          onChange: this.handleChangeWALLET,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }\n        }, \"Wallet\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4 col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"number\",\n          onChange: this.handleChangeCANTIDAD,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-info d-block text-center mx-auto mt-1\",\n          onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n            var direccioncontract, contractUSDT, transaccion;\n            return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    _context5.next = 2;\n                    return Utils.contract.tokenPago().call();\n\n                  case 2:\n                    direccioncontract = _context5.sent;\n                    _context5.next = 5;\n                    return window.tronWeb.contract().at(direccioncontract);\n\n                  case 5:\n                    contractUSDT = _context5.sent;\n                    _context5.next = 8;\n                    return contractUSDT.transfer(_this3.state.wallet, parseInt(_this3.state.cantidad * Math.pow(10, 6))).send();\n\n                  case 8:\n                    transaccion = _context5.sent;\n                    alert(\"verifica la transaccion \" + transaccion);\n                    setTimeout(window.open(\"https://tronscan.io/#/transaction/\" + transaccion, \"_blank\"), 3000);\n\n                    _this3.setState({\n                      cantidad: 0\n                    });\n\n                  case 12:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            }, _callee5);\n          })),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 16\n          }\n        }, \"Send Token\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-4 col-12 text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"number\",\n          onChange: this.handleChangePLAN,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"select\", {\n          name: \"cars\",\n          id: \"cars\",\n          onChange: this.handleChangeHAND,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"option\", {\n          value: \"0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }\n        }, \"izquierda\"), /*#__PURE__*/React.createElement(\"option\", {\n          value: \"1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }\n        }, \"derecha\")), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-info d-block text-center mx-auto mt-1\",\n          onClick: function onClick() {\n            return _this3.asignarPlan();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 16\n          }\n        }, \"Asignar plan\"))));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n      }\n    }\n  }]);\n\n  return Datos;\n}(Component);\n\nexport { Datos as default };","map":{"version":3,"sources":["/Users/miguelmerchan/Documents/GitHub/5-generausdt/src/components/Datos/index.js"],"names":["React","Component","Utils","Datos","props","state","totalInvestors","totalInvested","totalRefRewards","precioSITE","wallet","plan","cantidad","hand","bind","rateSITE","handleChangeWALLET","handleChangePLAN","handleChangeHAND","handleChangeCANTIDAD","asignarPlan","setContract","window","tronWeb","contractAddress","setInterval","event","console","log","setState","target","value","contract","setstate","call","esto","tokenPago","direccioncontract","at","contractUSDT","decimals","decimales","parseInt","Investors","_hex","Invested","RefRewards","version","defaultAddress","base58","send","transaccion","alert","setTimeout","open","admin","toFixed","transfer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Utils from \"../../utils\";\n\nexport default class Datos extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      totalInvestors: 0,\n      totalInvested: 0,\n      totalRefRewards: 0,\n      precioSITE: 1,\n      wallet: \"\",\n      plan: 0,\n      cantidad: 0,\n      hand: 0\n    };\n\n    this.totalInvestors = this.totalInvestors.bind(this);\n    this.rateSITE = this.rateSITE.bind(this);\n\n    this.handleChangeWALLET = this.handleChangeWALLET.bind(this);\n    this.handleChangePLAN = this.handleChangePLAN.bind(this);\n    this.handleChangeHAND = this.handleChangeHAND.bind(this);\n    this.handleChangeCANTIDAD = this.handleChangeCANTIDAD.bind(this);\n\n    this.asignarPlan = this.asignarPlan.bind(this);\n\n  }\n\n  async componentDidMount() {\n    await Utils.setContract(window.tronWeb, this.props.contractAddress);\n    setInterval(() => this.totalInvestors(),3*1000);\n  };\n\n  handleChangeWALLET(event) {\n    console.log(event)\n    this.setState({wallet: event.target.value});\n  }\n\n  handleChangePLAN(event) {\n    this.setState({plan: event.target.value});\n  }\n\n  handleChangeHAND(event) {\n    this.setState({plan: event.target.value});\n  }\n\n  handleChangeCANTIDAD(event) {\n    this.setState({cantidad: event.target.value});\n  }\n\n  async rateSITE(){\n    /*\n    var proxyUrl = cons.proxy;\n    var apiUrl = cons.PRE;\n    var response;\n\n    try {\n      response = await fetch(proxyUrl+apiUrl);\n    } catch (err) {\n      console.log(err);\n      return this.state.precioSITE;\n    }\n\n    var json = await response.json();\n\n    this.setState({\n      precioSITE: json.Data.precio\n    });\n\n    return json.Data.precio;*/\n    return 1;\n\n  };\n\n  async totalInvestors() {\n\n    //await this.rateSITE();\n\n    let esto = await Utils.contract.setstate().call();\n\n    var direccioncontract = await Utils.contract.tokenPago().call();\n    var contractUSDT = await window.tronWeb.contract().at(direccioncontract);\n    var decimales = await contractUSDT.decimals().call();\n    //console.log(esto);\n    this.setState({\n      totalInvestors: parseInt(esto.Investors._hex),\n      totalInvested: parseInt(esto.Invested._hex)/10**decimales,\n      totalRefRewards: parseInt(esto.RefRewards._hex)/10**decimales\n\n    });\n\n  };\n\n  async asignarPlan(){\n    if(this.props.version <= 1){\n      var transaccion = await Utils.contract.asignarPlan(this.state.wallet, this.state.plan, window.tronWeb.defaultAddress.base58, this.state.hand).send();\n    }else{\n      transaccion = await Utils.contract.asignarPlan(this.state.wallet, this.state.plan).send();\n    }\n    alert(\"verifica la transaccion \"+transaccion);\n    setTimeout(window.open(\"https://tronscan.io/#/transaction/\"+transaccion, \"_blank\"), 3000);\n    this.setState({plan: 0});\n\n  }\n\n  render() {\n\n    if (this.props.admin === true) {\n\n      return (\n        <div className=\"row counters\">\n\n          <div className=\"col-lg-4 col-12 text-center\">\n            <span data-toggle=\"counter-up\">{this.state.totalInvestors}</span>\n            <p>Inversores Globales</p>\n          </div>\n\n          <div className=\"col-lg-4 col-12 text-center\">\n            <span data-toggle=\"counter-up\">{(this.state.totalInvested/this.state.precioSITE).toFixed(2)} USDT</span>\n            <p>Invertido en Plataforma</p>\n          </div>\n\n          <div className=\"col-lg-4 col-12 text-center\">\n            <span data-toggle=\"counter-up\">{(this.state.totalRefRewards/this.state.precioSITE).toFixed(2)} USDT</span>\n            <p>Total Recompensas por Referidos</p>\n          </div>\n\n          <div className=\"col-lg-4 col-12 text-center\">\n            <input type=\"text\" onChange={this.handleChangeWALLET} />\n            <p>Wallet</p>\n          </div>\n\n          <div className=\"col-lg-4 col-12 text-center\">\n          <input type=\"number\" onChange={this.handleChangeCANTIDAD} />\n            \n            <p><button type=\"button\" className=\"btn btn-info d-block text-center mx-auto mt-1\" onClick={async() => {\n              var direccioncontract = await Utils.contract.tokenPago().call();\n              var contractUSDT = await window.tronWeb.contract().at(direccioncontract);\n              var transaccion = await contractUSDT.transfer(this.state.wallet, parseInt(this.state.cantidad*10**6)).send();\n              alert(\"verifica la transaccion \"+transaccion);\n              setTimeout(window.open(\"https://tronscan.io/#/transaction/\"+transaccion, \"_blank\"), 3000);\n              this.setState({cantidad: 0});\n              }}>Send Token</button></p>\n          </div>\n\n          <div className=\"col-lg-4 col-12 text-center\">\n            <input type=\"number\" onChange={this.handleChangePLAN} />\n            <select name=\"cars\" id=\"cars\" onChange={this.handleChangeHAND} >\n              <option value=\"0\">izquierda</option>\n              <option value=\"1\">derecha</option>\n            </select>\n            <p><button type=\"button\" className=\"btn btn-info d-block text-center mx-auto mt-1\" onClick={() => this.asignarPlan()}>Asignar plan</button></p>\n          </div>\n\n        </div>\n      );\n    }else{\n      return(<></>);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}